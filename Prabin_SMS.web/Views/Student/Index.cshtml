@model IEnumerable<Prabin_SMS.Models.Entity.Student>


<div class="row">
    <div class="col-1"><h2>Student</h2></div>
    <div class="col-1 ms-3"><a class="btn btn-primary float-end" asp-action="AddEdit">Add</a></div>
</div>


<form asp-action="Search" method="GET">

    <div class="input-group">
        <input type="text" class="form-control" id="degreeSearchViewModel.Query" placeholder="Degree" aria-describedby="basic-addon2">
        <div class="input-group-append">
            <input class="btn btn-outline-secondary" type="submit" value="Search" />
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-light mb-3">
        <div class="container-fluid" style="padding-left:0px">
            <div class="navbar-collapse justify-content-between align-items-start" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item" style="font-size:10px; padding-right: 0px">
                        <textarea id="Search" class="form-control form-control-sm" placeholder="search" rows="1"></textarea>
                        <div class="form-group">
                            <select id="CourseList" class="form-control form-control-sm">
                                <option selected>Courses</option>
                            </select>
                            <span class="text-danger"></span>
                        </div>
                    </li>

                    <li class="nav-item">
                        <select asp-for="degreeSearchViewModel.Level" class="form-select form-select-sm" aria-label=".form-select-sm example">
                            <option selected disabled value="null">Level</option>
                            <option value="null">All</option>
                            <option value="MASTERS">MASTERS</option>
                            <option value="BACHELORS">BACHELORS</option>
                        </select>
                    </li>

                    <li class="nav-item">
                        <select asp-for="degreeSearchViewModel.DisciplineId" class="form-select form-select-sm" aria-label=".form-select-sm example" asp-items="@(new SelectList(ViewBag.Discipline,"Id","Name"))">
                            <option selected disabled value="null">Discipline</option>
                            <option value="null">All</option>
                        </select>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <div class="row g-3 align-items-center">
                            <div class="col-auto">
                                <label for="inputPassword6" class="col-form-label">Start Date</label>
                            </div>
                            <div class="col-auto">
                                <input asp-for="degreeSearchViewModel.StartDate" type="date" class="form-control form-control-sm" />
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

</form>
<div class="row">
    <div class="col-12">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>S.N.</th>
                    <th>
                        First Name
                    </th>
                    <th>
                        Last Name
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Address
                    </th>
                    <th>
                        PhoneNumber
                    </th>
                    <th>
                        Batch
                    </th>
                    <th>
                        Semester
                    </th>
                    <th>
                        Section
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @{
                    int count = 1;
                }
                @foreach (var items in Model)
                {
                    <tr>
                        <td>
                            @count
                        </td>
                        <td>
                            @items.Email
                        </td>
                        <td>
                            @items.FirstName
                        </td>
                        <td>
                            @items.LastName
                        </td>
                        <td>
                            @items.Address
                        </td>
                        <td>
                            @items.PhoneNumber
                        </td>
                        <td>
                            @if (@items.Batch == null)
                            {
                               @:Not Set
                            }
                            else
                            {
                                @items.Batch
                            }

                        </td>
                        @if(items.Semester!=0)
                        {
                            <td>
                                @items.Semester st
                            </td>
                        }
                        else
                        {
                            <td>
                                Not Set
                            </td>
                        }
                        @if (items.SectionId != 0)
                        {
                            <td>
                                @items.SectionId
                            </td>
                        }
                        else
                        {
                            <td>
                                Not Set
                            </td>
                        }
                            @if (items.IsEnrolled == true)
                            {
                            <td><a class="btn btn-danger float-end" onclick="Enroll(@items.Id)">DeEnroll</a></td>
                            }
                            else
                            {
                            <td><a class="btn btn-primary float-end" onclick="Enroll(@items.Id)">Enroll</a></td>
                            }

                        <td>
                            <a class="btn btn-primary float-end" asp-action="AddEdit" asp-route-id="@items.Id">Edit</a>
                        </td>
                    </tr>
                    count = count + 1;
                }
            </tbody>
        </table>
    </div>
</div>
<div class="col-3"></div>

<script>
    function Enroll(itemid) {
        window.location.href = '/Student/EnrollmentStatus?Id=' + itemid;
    }
</script>




